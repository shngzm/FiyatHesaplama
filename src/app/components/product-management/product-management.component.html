<div class="management-container">
  <div class="management-header">
    <h2>ÃœrÃ¼n YÃ¶netimi</h2>
  </div>

  <div class="form-card">
    <h3>Yeni ÃœrÃ¼n Ekle</h3>
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="modelId">Model *</label>
          <select id="modelId" formControlName="modelId" class="form-control">
            <option value="">SeÃ§iniz</option>
            <option *ngFor="let model of models" [value]="model.id">{{ model.modelTipi }}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="ayar">Ayar *</label>
          <select id="ayar" formControlName="ayar" class="form-control">
            <option value="">SeÃ§iniz</option>
            <option *ngFor="let ayar of ayarOptions" [value]="ayar">{{ ayar }} ayar</option>
          </select>
        </div>

        <div class="form-group">
          <label for="sira">SÄ±ra *</label>
          <select id="sira" formControlName="sira" class="form-control">
            <option value="">SeÃ§iniz</option>
            <option *ngFor="let sira of siraOptions" [value]="sira">{{ sira }}</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="birimCmTel">1 cm Tel (g) *</label>
          <input 
            type="number" 
            id="birimCmTel" 
            formControlName="birimCmTel"
            class="form-control"
            placeholder="0.00"
            step="0.01"
          >
        </div>

        <div class="form-group">
          <label for="kesilenParca">Kesilen ParÃ§a (cm) *</label>
          <input 
            type="number" 
            id="kesilenParca" 
            formControlName="kesilenParca"
            class="form-control"
            placeholder="0.00"
            step="0.01"
          >
        </div>

        <div class="form-group">
          <label for="digerAgirliklar">DiÄŸer AÄŸÄ±rlÄ±klar (g) *</label>
          <input 
            type="number" 
            id="digerAgirliklar" 
            formControlName="digerAgirliklar"
            class="form-control"
            placeholder="Toka, diÅŸ vb."
            step="0.01"
          >
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="iscilik">Ä°ÅŸÃ§ilik (milyem) *</label>
          <input 
            type="number" 
            id="iscilik" 
            formControlName="iscilik"
            class="form-control"
            placeholder="Ã–rn: 250"
            step="1"
          >
        </div>

        <div class="form-group">
          <label>&nbsp;</label>
          <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">
            âœ… ÃœrÃ¼n Ekle
          </button>
        </div>
      </div>
      <div class="form-row">
        <small class="form-hint">Milyem cinsinden iÅŸÃ§ilik deÄŸeri (Ã¶rn: 250)</small>
      </div>
    </form>
  </div>

  <div class="table-card">
    <h3>ÃœrÃ¼n Listesi</h3>
    <table class="data-table" *ngIf="products.length > 0; else noProducts">
      <thead>
        <tr>
          <th>Model</th>
          <th>Ayar</th>
          <th>SÄ±ra</th>
          <th>1 cm Tel</th>
          <th>Kesilen</th>
          <th>DiÄŸer AÄŸ.</th>
          <th>Ä°ÅŸÃ§ilik</th>
          <th>Ä°ÅŸlemler</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td>{{ product.modelTipi }}</td>
          <td>{{ product.ayar }}</td>
          <td>{{ product.sira }}</td>
          <td>{{ product.birimCmTel | number:'1.2-2' }} g</td>
          <td>{{ product.kesilenParca | number:'1.2-2' }} g</td>
          <td>{{ product.digerAgirliklar | number:'1.2-2' }} g</td>
          <td>{{ product.iscilik }} â€°</td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="deleteProduct(product)">ğŸ—‘ï¸ Sil</button>
          </td>
        </tr>
      </tbody>
    </table>

    <ng-template #noProducts>
      <p class="no-data">HenÃ¼z Ã¼rÃ¼n eklenmemiÅŸ. YukarÄ±daki formu kullanarak Ã¼rÃ¼n ekleyebilirsiniz.</p>
    </ng-template>
  </div>
</div>
