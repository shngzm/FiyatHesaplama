<div class="gold-price-management">
  <div class="page-header">
    <h2>âš¡ AltÄ±n Kuru YÃ¶netimi</h2>
    <p class="description">Manuel olarak altÄ±n alÄ±ÅŸ ve satÄ±ÅŸ fiyatlarÄ±nÄ± belirleyin</p>
  </div>

  <!-- Mevcut Kur Bilgisi -->
  <div class="current-price-card" *ngIf="currentPrice">
    <h3>Aktif Kur</h3>
    <div class="price-display">
      <div class="price-item">
        <span class="label">AlÄ±ÅŸ:</span>
        <span class="value">{{ formatPrice(currentPrice.buying) }}</span>
      </div>
      <div class="price-item">
        <span class="label">SatÄ±ÅŸ:</span>
        <span class="value">{{ formatPrice(currentPrice.selling) }}</span>
      </div>
    </div>
    <div class="price-meta">
      <span class="timestamp">{{ formatDate(currentPrice.timestamp) }}</span>
      <span class="badge" [class.manual]="hasManualPrice" [class.api]="!hasManualPrice">
        {{ hasManualPrice ? 'âœ“ Manuel' : 'ğŸŒ API / Demo' }}
      </span>
    </div>
  </div>

  <!-- Manuel Kur GiriÅŸi -->
  <div class="price-form-card">
    <h3>Yeni Kur Belirle</h3>
    <form [formGroup]="priceForm" (ngSubmit)="savePrice()">
      <div class="form-row">
        <div class="form-group">
          <label for="buying">AlÄ±ÅŸ FiyatÄ± (TL/gram)</label>
          <input
            type="number"
            id="buying"
            formControlName="buying"
            placeholder="Ã–rn: 2845.50"
            step="0.01"
          />
          <div class="error" *ngIf="priceForm.get('buying')?.invalid && priceForm.get('buying')?.touched">
            GeÃ§erli bir alÄ±ÅŸ fiyatÄ± girin
          </div>
        </div>

        <div class="form-group">
          <label for="selling">SatÄ±ÅŸ FiyatÄ± (TL/gram)</label>
          <input
            type="number"
            id="selling"
            formControlName="selling"
            placeholder="Ã–rn: 2850.75"
            step="0.01"
          />
          <div class="error" *ngIf="priceForm.get('selling')?.invalid && priceForm.get('selling')?.touched">
            GeÃ§erli bir satÄ±ÅŸ fiyatÄ± girin
          </div>
        </div>
      </div>

      <div class="button-group">
        <button type="submit" class="btn btn-primary" [disabled]="priceForm.invalid">
          ğŸ’¾ Kaydet
        </button>
        <button type="button" class="btn btn-secondary" (click)="clearManualPrice()" *ngIf="hasManualPrice">
          ğŸ—‘ï¸ Manuel Kuru Sil
        </button>
        <button type="button" class="btn btn-secondary" (click)="refreshFromApi()" *ngIf="!hasManualPrice">
          ğŸ”„ API'den Yenile
        </button>
      </div>
    </form>
  </div>

  <!-- Bilgi Kutusu -->
  <div class="info-box">
    <h4>â„¹ï¸ Bilgilendirme</h4>
    <ul>
      <li>Manuel kur belirlediÄŸinizde, API'den gelen kurlar devre dÄ±ÅŸÄ± kalÄ±r</li>
      <li>Hesaplamalar belirlediÄŸiniz manuel kuru kullanÄ±r</li>
      <li>Manuel kuru silmek iÃ§in "Manuel Kuru Sil" butonunu kullanÄ±n</li>
      <li>API aktifken otomatik olarak 10 dakikada bir gÃ¼ncellenir</li>
    </ul>
  </div>
</div>
